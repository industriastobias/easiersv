-<!DOCTYPE html>
HTM lang = " es ">
* Cabeza *
    meta carbonaje = " UTF-8 ">
    meta nombre = " viewport " content = " width=device-width, initial-scale=1.0 ">
    * Título *Inventario* / título>
    <Estilo>
        ** Estilos básicos */
        cuerpo.
            familia de fuentes: Arial, sans-serif;
            margen: 0;
            acolchado: 0;
            fondo-color: .f4f4f4f4;
        -

        .header
            fondo-color: 8c8c8c; /* Gris suave */
            color: blanco;
            text-align: centro;
            acolchado: 10px;
            tamaño de fuente: 24px;
        -

        .. contenedoro.
            relleno: 20px;
        -

        .search-container, .info-container, .total-container
            margen-bajo: 20px;
        -

        . mesa de inventario-mesa
            anchura: 100%;
            borde-colapso: colapso;
            margen-bajo: 20px;
        -

        .inventory-table-th, .inventory-table td
            acolchado: 10px;
            borde: 1px de sólido .ddd;
            text-align: centro;
        -

        /* Color de la barra de encabezado de la tabla */
        .inventory-table-table th th .
            fondo-color: .dcdcdcc; /* Gris claro */
            color: 333,
        -

        .inventory-table tr:hover
            fondo-color: E8f7e1; /* Color verde clarito de resaltado al pasar el puntero */
        -

        .inventory-table tr.highlight
            fondo-color: E8f7e1; /* Color verde clarito de resaltado cuando se trata */
        -

        .delete-todo
            de fondo-color: rojo;
            color: blanco;
            acolchado: 10px;
            frontera: ninguna;
            cursor: puntero;
        -

        .delete-all:hover
            de fondo-color: oscuro;
        -

        . Carbotón de almacenamiento.
            visual: bloque en línea;
            de fondo-color: 333,
            color: blanco;
            relleno: 10px 20px;
            texto-decoración: ninguno;
            text-align: centro;
        -

        .storage-button:hover
            fondo-color: 555;
        -

        .lighted .
            fondo-color: E8f7e1; /* Color verde clarito para el resaltado */
        -

        /* Pantalla de búsqueda */
        .-screen de búsqueda.
            visual: ninguno;
            posición: fija;
            arriba: 0;
            a la izquierda: 0;
            anchura: 100%;
            altura: 100%;
            fondo-color: rgba(0, 0, 0, 0,5);
            color: blanco;
            text-align: centro;
            encolado: 20%;
            tamaño de fuente: 24px;
        -

        * Mensaje cuando no hay productos disponibles */
        .no-productos-mensaje
            color: rojo;
            peso de la letra: audaz;
        -

        Modal de cantidad para vender */
        .modal
            visual: ninguno;
            posición: fija;
            arriba: 0;
            a la izquierda: 0;
            anchura: 100%;
            altura: 100%;
            fondo-color: rgba(0, 0, 0, 0,5);
            color: blanco;
            text-align: centro;
            encolado: 20%;
        -

        . modal-contenido
            de fondo-color: 333,
            relleno: 20px;
            radio de frontera: 8px;
            anchura: 300px;
            margen: automático;
        -

        . Introducción modal
            anchura: 100%;
            acolchado: 10px;
            margen-bajo: 10px;
            borde: 1px de sólido Cc;
            radio de frontera: 4px;
        -

        botón . . .
            acolchado: 10px;
            de fondo-color: 4CAF50;
            color: blanco;
            frontera: ninguna;
            cursor: puntero;
            anchura: 100%;
        -

        . modal botón:hover
            de fondo-color: 45a049;
        -

        .modal .close de secreto
            de fondo-color: rojo;
            color: blanco;
            acolchado: 5px 10px;
            frontera: ninguna;
            cursor: puntero;
        -

        .modal .close:hover
            de fondo-color: oscuro;
        -

        /* Nuevos estilos para mejoras */
        .. registro claro.
            fondo-color:
            color: 333,
            acolchado: 10px;
            frontera: ninguna;
            cursor: puntero;
            margen-izquierda: 10px;
        -

        .clear-search:hover
            de fondo-color: .b;
        -

        . . . .
            cursor: puntero;
        -

        .sortable:hover
            fondo-color:
        -
    * * * estilo *>
* * * * cabeza *>
* Cuerpo *>

* Div class = " cabecera " *>
    Inventario
* * *>

<Div class = " contenedor ">
    Filtros Avanzados...
    <Div class = " search-container ">
        Tipo de entrada type= " texto " id = " búsquedaInput " placeholderer = " Buscar por nombre, código o categoría ">
        botón id = " searchButton ">Buscar* / botón *
        Clase de botón class= " clear-search " id = " clearSearchButton ">Limpiar* / botón *
        <Br><Br>
    * * *>
    
    <Div class = " info-container ">
        P id = " totalCount ">Número de productos disponibles: 0* * *>
        - p id = " noProductsMessage " class = " no-products-mensage style" style= " display: none; ">No senan productos* * *>
    * * *>
    
    <Div class = " inventario-table ">
        * mesa *>
            *>
                *>
                    - T. clase = " ordenado " onclick = ""ordenTable(0) ">Nombre* * *>
                    - " class="typeable " onclick = " ordenarTabla (11) ">Código* * *>
                    - clase classT" clase   ordenado  onclick = ""ordenTable(2) ">Código de Barras* * *>
                    - clase classTérmino = " ordenado " onclick = " ordenarTabla (3) "Precio* * *>
                    - " class="sorteo " onclick = " ordenarTabla"">Descuento (%)* * *>
                    - " class="sorteo " onclick = " ordenarTabla (5) ">Precio Con Descuento* * *>
                    - " class="sortable " onclick = " ordenarTabla (6) ">Descripción* * *>
                    - class""cruzada " onclick = " ordenarTablas (7) "Categoría* * *>
                    - th class = " sort " onclick = " ordenarTabla"">En acciones* * *>
                    *>Vender* * *>
                    *>Eliminar* * *>
                */ tr *>
            * * *>
            <Tbody id = " inventarioList ">
                Las filas de inventario se llenará dinámicamente -
            * * * *>
        */ cuadro *>
        Clase de botón class= " delete-all " onclick = " deleteAll"">Todo,* / botón *
    * * *>

    <Div class = ""total-container ">
        H2>Total en Dólares Americanos:*/ h2 *>
        P id = " totalAmount ">0,00 dólares* * *>
    * * *>

    Botón para redirigir a la página de almacenamiento...
    A <ahref = ""local.html " clase = " almacenamiento-botón ">Ir a Almacenamiento* A *>
* * *>

Pantalla de búsqueda...
<Div id = " búsquedaScreen " clase = " busca-pantalla ">
    Buscando producto...
* * *>

Modal para la entrada a vender...
<Div id = " venderModal " clase = " modal ">
    <Div class = " modal-contenido ">
        H2>Cuántas unidades deseas vender?*/ h2 *>
        Tipo de entrada type= " número " id = " venderCantidadInput " placeholder = " Cantidad a vender " min = " 1 " .
        * Botón id = " venderButton ">Vender* / botón *
        Clase de botón class= " cerrar " id = " closeModalButton ">Cerrar* / botón *
    * * *>
* * *>

El guión>
    documento.addEventListener ('DOMContentLoaded', function()
        const inventarioList = document.getElementById('inventoryList');
        const totalAmount = document.getElementById('totalAmount');
        const searchInput = document.getElementById('searchInput');
        const searchButton = document.getElementById('searchButton');
        const clearBuscarButton = document.getElementById('clearSearchButton');
        const totalCount = document.getElementById('total Count');
        const noProductsMessage = document.getElementById('noProductsMessage');
        const segun la búsquedaScreen = document.getElementById('searchingScreen');
        const sellModal = document.getElementById('ellModal');
        const sellQuantityInput = document.getElementById('sellQuantityInput');
        const sellButton = document.getElementById('sellButton');
        const closeModalButton = document.getElementById('closeModalButton');

        dejar inventario = JSON.parse(localStorage.getItem('inventory')
        dejar currentItemIndex = null;
        de mayo actualItemCode = null; // Usaremos el código para identificar el producto

        // Cargar inventario desde localStorage
        carga de funciónInventario (filtradoInventario)
            searchingScreen.style.display = 'bloque';
            ofList.innerHTML = '';

            filtradoInventory.forEach((partida, index) =-
                conteprecio precioCondescuento = ítem.price - (partida. precio * (partida.descuento / 100));
                const row = documento.createElement ('tr'tr');
                row.dataset.index = índice;
                row.innerHTML =
                    * Td *>$-item.name.* * *>
                    * Td *>$-item.code.* * *>
                    * Td *>$-item.barcode.* * *>
                    * Td *>$-item.price.* * *>
                    * Td *>$-item.discount ? artículo.descuento: 0%* * *>
                    * Td *>$.priceWithDiscount.toFixed(2)* * *>
                    * Td *>$-item.description.* * *>
                    * Td *>$-item.category.* * *>
                    * Td *>$.item.quantity.* * *>
                    * Td *>
                        * botón onclick = " openSellModal($.index, '$-item.code') ">Marcar como Vendido* / botón *
                    * * *>
                    * Td *>
                        Clase de botón class= " delete " onclick = " deleteItem($.index) ">Eliminar* / botón *
                    * * *>
                -
                ofList.appendChild (row);
            -);

            const total = filtradoInventory.reducir((sum, item) =
                conteprecio precioCondescuento = ítem.price - (partida. precio * (partida.descuento / 100));
                la suma de la rentabilidad (priceWithDiscount * parseInt(item.queantity));
            -, 0);
            TotalAmount.textContent = "$$$"total.toFixed(2);

            const totalQuantity = filtradoInventory.reducir(sumar, item) =- sum . parseInt(item.queantity, 0);
            si (Cantidad total === 0)
                noProductsMessage.style.display = 'bloque';
            Si no,
                noProductsMessage.style.display = 'none';
            -

            totalCount.textContenido = .Número de productos disponibles: $.totalQuantity.;

            seglaScreen.style.display = 'none';
        -

        // Filtrar inventario según la búsqueda
        filtro de funciónInventory(query)
            const normalizadora de canería = consulta.toLowerCase().trim ();

            devolver inventario.filter(item = .
                de vuelta item.name.toLowerCase().includes(normalizedQuery) 
                       item.code.toLowerCase().includes (pregunta (pregunta normalizada) 
                       ítem.toLowerCase().includes (preguntas (pregunta normalizada) 
                       item.description.toLowerCase().includes (consulta normalizada);
            -);
        -

        // Función para abrir la modal cantidad de a vender
        ventana.openSellModal = función(index, código)
            actualItemIndex = índice;
            corrienteItemCode = código;
            sellModal.style.display = 'bloque';
        -

        // Función para vender productos
        sellButton.addEventEventListener ('click', function()
            conte cantidadToSell = parseInt(sellQuantityInput.value);
            artículo de const = inventario.find(i =- i.code === currentItemCode); // Filtrar por código

            i (isNNN(calantidadToSell) - cantidadToSell .= 0)
                alertar: "Por favor, ingresa una carta de seguridad".) ;
                retorno;
            -

            si (cuantidadToSell - artículo. cantidad)
                alertar "sin heno suficiente para realizar la venta".) ;
                retorno;
            -

            // Resta la cantidad del inventario
            elemento.cuantidad -= cantidadToSell;

            // Si la cantidad de la cantidad a 0, eliminamos el producto
            si (item.queantidad .= 0)
                inventario = inventario.filter(i =- i.code == actualItemCode); // Eliminar por código
            Si no,
                inventario = inventario.map(i =- i.code === actualItemCode ? El artículo: i); // Actualizar por código
            -

            // Agregar a la venta
            deje venderItems = JSON.parse(localStorage.getItem('soldItems')
            vendidaItems.push(...parto, vendidoCantidad: cantidadToSell .);
            localStorage.setItem('soldItems', JSON.stringify (esems vendidos);

            // Actualizar inventario en localStorage
            localStorage.setItem ('inventario', JSON.stringify (inventario);

            // Recargar inventario y cerrar el modal
            cargaInventory(filterInventory(searchInput.value.toLowerCase() ]);
            sellModal.style.display = 'none';
        -);

        // Función para cerrar el modal
        closeModalButton.addEventListener('click', function()
            sellModal.style.display = 'none';
        -);

        // Función para eliminar un producto
        window.deleteItem = función(index)
            inventario.splice (índice, 1);
            localStorage.setItem ('inventario', JSON.stringify (inventario);
            cargaInventory(filterInventory(searchInput.value.toLowerCase() ]);
        -

        // Función para eliminar todos los productos
        ventana.deleteTodos = función ()
            inventario = [];
            localStorage.setItem ('inventario', JSON.stringify (inventario);
            cargaInventario[[]);
        -

        // Función para ordenar la tabla por columnas
        función ordenarTabla (n)
            con filas = Array.from(inventoryList.rows);
            const ordenadoRows = rows.sort((rowA, rowB) =
                conste cellA = rowA.cells[n].textContent.trim();
                const cellB = rowB.cells[n].textContent.trim();

                si (cellA celularB) devuelve 1;
                si (cellA celularB) devuelve -1;
                de vuelta 0;
            -);

            ordenadoRows.forCada cada(row =- inventarioList.appendChild(row));
        -

        // Búsqueda por entrada
        searchButton.addEventListener('click', function()
            cargaInventario(filterInventory(searchInput.value));
        -);

        clearSearchButton.addEventListener('click', function()
            searchInput.value = '';
            cargaInventario (inventario);
        -);

        // Cargar inventario al cargar la página
        cargaInventario (inventario);
    -);
* / script *>

*/ cuerpo *
*/ html>
