<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Almacenamiento</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .header {
            background-color: #8c8c8c;
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 24px;
        }
        .container {
            padding: 20px;
        }
        .no-products-message {
            color: red;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="header">
    Almacenamiento
</div>

<div class="container">
    <div id="productDetails">
        <!-- Aquí se mostrarán los detalles del producto -->
    </div>
    <a href="inventario.html" class="storage-button">Volver al Inventario</a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const productDetails = document.getElementById('productDetails');
        const urlParams = new URLSearchParams(window.location.search);
        const productCode = urlParams.get('code'); // Obtener el código del producto de la URL

        // Cargar inventario desde localStorage
        const inventory = JSON.parse(localStorage.getItem('inventory')) || [];

        // Buscar el producto por su código
        const product = inventory.find(item => item.code === productCode);

        if (product) {
            // Mostrar los detalles del producto
            productDetails.innerHTML = `
                <h2>${product.name}</h2>
                <p><strong>Código:</strong> ${product.code}</p>
                <p><strong>Código de Barras:</strong> ${product.barcode}</p>
                <p><strong>Precio:</strong> $${product.price}</p>
                <p><strong>Descuento:</strong> ${product.discount || 0}%</p>
                <p><strong>Precio con Descuento:</strong> $${(product.price - (product.price * (product.discount / 100)).toFixed(2)}</p>
                <p><strong>Descripción:</strong> ${product.description}</p>
                <p><strong>Categoría:</strong> ${product.category}</p>
                <p><strong>Cantidad en stock:</strong> ${product.quantity}</p>
            `;
        } else {
            // Si no se encuentra el producto, mostrar un mensaje
            productDetails.innerHTML = `<p class="no-products-message">Producto no encontrado.</p>`;
        }
    });
</script>

</body>
</html>
